<html>
<head>

<script src="functions/op2ind.js"></script>
<script src="functions/validation/test_cases.js"></script>
<script src="functions/preprocess_input.js"></script>
<script src="functions/operators_database.js"></script>
<script src="functions/get_operation_type.js"></script>
<script src="functions/parse_formula.js"></script>
<script src="functions/postprocess_tree.js"></script>
<script src="functions/get_tree_size.js"></script>
<script src="functions/sort_tree.js"></script>
<script src="functions/replace_var_names.js"></script>
<script src="functions/plot_AST.js"></script>
<script src="index.js"></script>
<!-- <script src="functions/parameters.js"></script> -->

<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script> <!-- MathJax library -->

<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">


<link rel="stylesheet" href="https://fperucic.github.io/treant-js/Treant.css" type="text/css"/>
<link rel="stylesheet" href="functions/ast.css">

<script src="https://fperucic.github.io/treant-js/Treant.js"></script>
<script src="https://fperucic.github.io/treant-js/vendor/raphael.js"></script>
</head>
<body>

<div id="wrapper_1">
	<input type="text" id="input_latex">
	<input type="number" id="input_test_index" value=0 min="0" max="60">
	<div id="compiled_latex"></div>
</div>

<!-- 
\\sqrt[3]{4}
\sum_{i=0}^N{i^2}
-->
<div id="LaTex_AST"></div>

<script>
	let t = [0];
	index(t,false,true);
	document.getElementById("input_latex").value = test_cases(t);
	
	document.getElementById("compiled_latex").innerHTML = '$$' + document.getElementById("input_latex").value + '$$'; // Update the text in the compiled LaTex box.
	MathJax.typeset([document.getElementById("compiled_latex")]); // Compile LaTex.
	
	document.getElementById("input_test_index").addEventListener("change", function() {
		document.getElementById("LaTex_AST").innerHTML = "";
		
		if(this.value.length) {
			document.getElementById("input_latex").value = test_cases(this.value);
			
			document.getElementById("compiled_latex").innerHTML = '$$' + document.getElementById("input_latex").value + '$$'; // Update the text in the compiled LaTex box.
			MathJax.typeset([document.getElementById("compiled_latex")]); // Compile LaTex.
			
			index([Number(this.value)],false,true);
		} else {
			document.getElementById("input_latex").value = "";
		}
	});
	
	document.getElementById("input_latex").addEventListener("keyup", function() {
		
		document.getElementById("compiled_latex").innerHTML = '$$' + document.getElementById("input_latex").value + '$$'; // Update the text in the compiled LaTex box.
		MathJax.typeset([document.getElementById("compiled_latex")]); // Compile LaTex.
		
		document.getElementById("LaTex_AST").innerHTML = "";
		index(this.value,false,true);
	});
</script>

</body>
</html>